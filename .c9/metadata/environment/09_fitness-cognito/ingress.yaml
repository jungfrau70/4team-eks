{"filter":false,"title":"ingress.yaml","tooltip":"/09_fitness-cognito/ingress.yaml","undoManager":{"mark":25,"position":25,"stack":[[{"start":{"row":4,"column":4},"end":{"row":7,"column":108},"action":"remove","lines":["kubernetes.io/ingress.class: alb","    alb.ingress.kubernetes.io/scheme: internet-facing","    alb.ingress.kubernetes.io/target-type: ip","    #alb.ingress.kubernetes.io/auth-idp-cognito: '{\"UserPoolArn\":\"\",\"UserPoolClientId\":\"\",\"UserPoolDomain\":\""],"id":2,"ignore":true},{"start":{"row":4,"column":4},"end":{"row":5,"column":69},"action":"insert","lines":["alb.ingress.kubernetes.io/auth-idp-cognito: '{\"UserPoolArn\":\"arn:aws:cognito-idp:ap-northeast-2:596906176357:userpool/ap-northeast-2_mCAntIjRq\",\"UserPoolClientId\":\"6h085hpvge24knrfnkpqrn7021\",","      \"UserPoolDomain\":\"kfusers.auth.ap-northeast-2.amazoncognito.com"]},{"start":{"row":6,"column":4},"end":{"row":6,"column":5},"action":"remove","lines":["#"]},{"start":{"row":7,"column":4},"end":{"row":7,"column":5},"action":"remove","lines":["#"]},{"start":{"row":7,"column":47},"end":{"row":7,"column":48},"action":"remove","lines":["\""]},{"start":{"row":7,"column":135},"end":{"row":7,"column":136},"action":"remove","lines":["\""]},{"start":{"row":8,"column":4},"end":{"row":8,"column":5},"action":"remove","lines":["#"]},{"start":{"row":9,"column":4},"end":{"row":9,"column":5},"action":"remove","lines":["#"]},{"start":{"row":9,"column":4},"end":{"row":11,"column":4},"action":"insert","lines":["alb.ingress.kubernetes.io/scheme: internet-facing","    alb.ingress.kubernetes.io/target-type: ip","    "]},{"start":{"row":12,"column":4},"end":{"row":12,"column":5},"action":"remove","lines":["#"]},{"start":{"row":12,"column":21},"end":{"row":12,"column":38},"action":"remove","lines":["networking.k8s.io"]},{"start":{"row":12,"column":21},"end":{"row":12,"column":31},"action":"insert","lines":["extensions"]},{"start":{"row":12,"column":150},"end":{"row":12,"column":201},"action":"remove","lines":["\\\",\\\"UserPoolClientId\\\":\\\"\\\", \\\"UserPoolDomain\\\":\\\""]},{"start":{"row":12,"column":150},"end":{"row":12,"column":353},"action":"insert","lines":["arn:aws:cognito-idp:ap-northeast-2:596906176357:userpool/ap-northeast-2_mCAntIjRq\\\",\\\"UserPoolClientId\\\":\\\"6h085hpvge24knrfnkpqrn7021\\\", \\\"UserPoolDomain\\\":\\\"kfusers.auth.ap-northeast-2.amazoncognito.com"]},{"start":{"row":12,"column":451},"end":{"row":12,"column":539},"action":"insert","lines":["arn:aws:acm:ap-northeast-2:596906176357:certificate/8ec567fd-fd03-4a57-b837-fead72c6d100"]},{"start":{"row":12,"column":656},"end":{"row":12,"column":789},"action":"remove","lines":["kubernetes.io/ingress.class\":\"alb\"},\"labels\":{\"kustomize.component\":\"istio-ingress\"},\"name\":\"istio-ingress\",\"namespace\":\"istio-system"]},{"start":{"row":12,"column":656},"end":{"row":12,"column":1809},"action":"insert","lines":["alb.ingress.kubernetes.io/target-type\":\"ip\",\"kubernetes.io/ingress.class\":\"alb\"},\"creationTimestamp\":\"2021-09-26T07:25:57Z\",\"finalizers\":[\"ingress.k8s.aws/resources\"],\"generation\":1,\"labels\":{\"kustomize.component\":\"istio-ingress\"},\"managedFields\":[{\"apiVersion\":\"extensions/v1beta1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:alb.ingress.kubernetes.io/auth-idp-cognito\":{},\"f:alb.ingress.kubernetes.io/auth-type\":{},\"f:alb.ingress.kubernetes.io/certificate-arn\":{},\"f:alb.ingress.kubernetes.io/listen-ports\":{},\"f:alb.ingress.kubernetes.io/scheme\":{},\"f:alb.ingress.kubernetes.io/target-type\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{},\"f:kubernetes.io/ingress.class\":{}},\"f:finalizers\":{\".\":{},\"v:\\\"ingress.k8s.aws/resources\\\"\":{}},\"f:labels\":{\".\":{},\"f:kustomize.component\":{}}},\"f:spec\":{\"f:rules\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2021-09-26T07:25:57Z\"}],\"name\":\"istio-ingress\",\"namespace\":\"istio-system\",\"resourceVersion\":\"753107\",\"selfLink\":\"/apis/extensions/v1beta1/namespaces/istio-system/ingresses/istio-ingress\",\"uid\":\"6043b47a-a5b5-4174-93b8-13e90320d32a"]},{"start":{"row":12,"column":1925},"end":{"row":12,"column":1930},"action":"remove","lines":["}]}}]"]},{"start":{"row":12,"column":1925},"end":{"row":12,"column":1994},"action":"insert","lines":[",\"pathType\":\"ImplementationSpecific\"}]}}]},\"status\":{\"loadBalancer\":{"]},{"start":{"row":12,"column":1996},"end":{"row":12,"column":1997},"action":"insert","lines":["}"]},{"start":{"row":13,"column":4},"end":{"row":13,"column":5},"action":"remove","lines":["#"]},{"start":{"row":14,"column":34},"end":{"row":14,"column":43},"action":"remove","lines":["5:50:22Z\""]},{"start":{"row":14,"column":34},"end":{"row":16,"column":29},"action":"insert","lines":["7:42:04Z\"","  finalizers:","  - ingress.k8s.aws/resources"]},{"start":{"row":21,"column":16},"end":{"row":21,"column":33},"action":"remove","lines":["networking.k8s.io"]},{"start":{"row":21,"column":16},"end":{"row":21,"column":26},"action":"insert","lines":["extensions"]},{"start":{"row":32,"column":0},"end":{"row":33,"column":0},"action":"insert","lines":["          f:alb.ingress.kubernetes.io/target-type: {}",""]},{"start":{"row":35,"column":0},"end":{"row":38,"column":0},"action":"insert","lines":["        f:finalizers:","          .: {}","          v:\"ingress.k8s.aws/resources\": {}",""]},{"start":{"row":43,"column":14},"end":{"row":43,"column":18},"action":"remove","lines":["fctl"]},{"start":{"row":43,"column":14},"end":{"row":43,"column":38},"action":"insert","lines":["ubectl-client-side-apply"]},{"start":{"row":45,"column":23},"end":{"row":45,"column":30},"action":"remove","lines":["5:50:22"]},{"start":{"row":45,"column":23},"end":{"row":54,"column":30},"action":"insert","lines":["7:25:57Z\"","  - apiVersion: networking.k8s.io/v1beta1","    fieldsType: FieldsV1","    fieldsV1:","      f:status:","        f:loadBalancer:","          f:ingress: {}","    manager: controller","    operation: Update","    time: \"2021-09-26T07:42:08"]},{"start":{"row":57,"column":20},"end":{"row":57,"column":24},"action":"remove","lines":["6873"]},{"start":{"row":57,"column":20},"end":{"row":57,"column":24},"action":"insert","lines":["7648"]},{"start":{"row":59,"column":7},"end":{"row":59,"column":43},"action":"remove","lines":["b7a7ef01-664c-4150-9c3a-0ba037a95024"]},{"start":{"row":59,"column":7},"end":{"row":59,"column":43},"action":"insert","lines":["2567ca83-5393-41b4-b4c3-cb3532c6951a"]},{"start":{"row":70,"column":15},"end":{"row":70,"column":18},"action":"remove","lines":[" {}"]},{"start":{"row":70,"column":15},"end":{"row":72,"column":92},"action":"insert","lines":["","    ingress:","    - hostname: k8s-istiosys-istioing-929e36fad4-1601145949.ap-northeast-2.elb.amazonaws.com"]}],[{"start":{"row":22,"column":4},"end":{"row":42,"column":19},"action":"remove","lines":["fieldsType: FieldsV1","    fieldsV1:","      f:metadata:","        f:annotations:","          .: {}","          f:alb.ingress.kubernetes.io/auth-idp-cognito: {}","          f:alb.ingress.kubernetes.io/auth-type: {}","          f:alb.ingress.kubernetes.io/certificate-arn: {}","          f:alb.ingress.kubernetes.io/listen-ports: {}","          f:alb.ingress.kubernetes.io/scheme: {}","          f:alb.ingress.kubernetes.io/target-type: {}","          f:kubectl.kubernetes.io/last-applied-configuration: {}","          f:kubernetes.io/ingress.class: {}","        f:finalizers:","          .: {}","          v:\"ingress.k8s.aws/resources\": {}","        f:labels:","          .: {}","          f:kustomize.component: {}","      f:spec:","        f:rules: {}"],"id":3},{"start":{"row":22,"column":2},"end":{"row":22,"column":4},"action":"remove","lines":["  "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":2},"action":"remove","lines":["  "]},{"start":{"row":21,"column":34},"end":{"row":22,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":20,"column":0},"end":{"row":33,"column":32},"action":"remove","lines":["  managedFields:","  - apiVersion: extensions/v1beta1","    manager: kubectl-client-side-apply","    operation: Update","    time: \"2021-09-26T07:25:57Z\"","  - apiVersion: networking.k8s.io/v1beta1","    fieldsType: FieldsV1","    fieldsV1:","      f:status:","        f:loadBalancer:","          f:ingress: {}","    manager: controller","    operation: Update","    time: \"2021-09-26T07:42:08Z\""],"id":4},{"start":{"row":19,"column":38},"end":{"row":20,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":20,"column":13},"end":{"row":20,"column":14},"action":"remove","lines":["-"],"id":5},{"start":{"row":20,"column":12},"end":{"row":20,"column":13},"action":"remove","lines":["o"]},{"start":{"row":20,"column":11},"end":{"row":20,"column":12},"action":"remove","lines":["i"]},{"start":{"row":20,"column":10},"end":{"row":20,"column":11},"action":"remove","lines":["t"]},{"start":{"row":20,"column":9},"end":{"row":20,"column":10},"action":"remove","lines":["s"]},{"start":{"row":20,"column":8},"end":{"row":20,"column":9},"action":"remove","lines":["i"]}],[{"start":{"row":20,"column":8},"end":{"row":20,"column":16},"action":"insert","lines":["fitness-"],"id":6}],[{"start":{"row":19,"column":4},"end":{"row":19,"column":23},"action":"remove","lines":["kustomize.component"],"id":7}],[{"start":{"row":19,"column":4},"end":{"row":19,"column":7},"action":"insert","lines":["app"],"id":8},{"start":{"row":19,"column":7},"end":{"row":19,"column":8},"action":"insert","lines":[" "]}],[{"start":{"row":19,"column":10},"end":{"row":19,"column":23},"action":"remove","lines":["istio-ingress"],"id":9},{"start":{"row":19,"column":10},"end":{"row":19,"column":23},"action":"insert","lines":["istio-ingress"]}],[{"start":{"row":19,"column":10},"end":{"row":19,"column":23},"action":"remove","lines":["istio-ingress"],"id":10},{"start":{"row":19,"column":10},"end":{"row":19,"column":23},"action":"insert","lines":["istio-ingress"]},{"start":{"row":19,"column":10},"end":{"row":19,"column":23},"action":"remove","lines":["istio-ingress"]},{"start":{"row":19,"column":10},"end":{"row":19,"column":11},"action":"insert","lines":["f"]},{"start":{"row":19,"column":11},"end":{"row":19,"column":12},"action":"insert","lines":["i"]},{"start":{"row":19,"column":12},"end":{"row":19,"column":13},"action":"insert","lines":["t"]},{"start":{"row":19,"column":13},"end":{"row":19,"column":14},"action":"insert","lines":["n"]},{"start":{"row":19,"column":14},"end":{"row":19,"column":15},"action":"insert","lines":["e"]},{"start":{"row":19,"column":15},"end":{"row":19,"column":16},"action":"insert","lines":["s"]},{"start":{"row":19,"column":16},"end":{"row":19,"column":17},"action":"insert","lines":["s"]}],[{"start":{"row":21,"column":13},"end":{"row":21,"column":25},"action":"remove","lines":["istio-system"],"id":11},{"start":{"row":21,"column":13},"end":{"row":21,"column":25},"action":"insert","lines":["istio-system"]}],[{"start":{"row":21,"column":13},"end":{"row":21,"column":25},"action":"remove","lines":["istio-system"],"id":12},{"start":{"row":21,"column":13},"end":{"row":21,"column":25},"action":"insert","lines":["istio-system"]},{"start":{"row":21,"column":13},"end":{"row":21,"column":25},"action":"remove","lines":["istio-system"]},{"start":{"row":21,"column":13},"end":{"row":21,"column":14},"action":"insert","lines":["f"]},{"start":{"row":21,"column":14},"end":{"row":21,"column":15},"action":"insert","lines":["i"]},{"start":{"row":21,"column":15},"end":{"row":21,"column":16},"action":"insert","lines":["t"]},{"start":{"row":21,"column":16},"end":{"row":21,"column":17},"action":"insert","lines":["n"]},{"start":{"row":21,"column":17},"end":{"row":21,"column":18},"action":"insert","lines":["e"]},{"start":{"row":21,"column":18},"end":{"row":21,"column":19},"action":"insert","lines":["s"]},{"start":{"row":21,"column":19},"end":{"row":21,"column":20},"action":"insert","lines":["s"]}],[{"start":{"row":22,"column":0},"end":{"row":24,"column":43},"action":"remove","lines":["  resourceVersion: \"764873\"","  selfLink: /apis/extensions/v1beta1/namespaces/istio-system/ingresses/istio-ingress","  uid: 2567ca83-5393-41b4-b4c3-cb3532c6951a"],"id":13},{"start":{"row":21,"column":20},"end":{"row":22,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":31,"column":0},"end":{"row":34,"column":92},"action":"remove","lines":["status:","  loadBalancer:","    ingress:","    - hostname: k8s-istiosys-istioing-929e36fad4-1601145949.ap-northeast-2.elb.amazonaws.com"],"id":14},{"start":{"row":30,"column":40},"end":{"row":31,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":30,"column":40},"end":{"row":31,"column":0},"action":"insert","lines":["",""],"id":15},{"start":{"row":31,"column":0},"end":{"row":31,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":31,"column":8},"end":{"row":33,"column":20},"action":"insert","lines":["metadata:","  name: fitness","  namespace: fitness"],"id":16}],[{"start":{"row":28,"column":25},"end":{"row":28,"column":27},"action":"insert","lines":["80"],"id":17}],[{"start":{"row":30,"column":0},"end":{"row":31,"column":17},"action":"remove","lines":["        pathType: ImplementationSpecific","        metadata:"],"id":18}],[{"start":{"row":27,"column":23},"end":{"row":27,"column":43},"action":"remove","lines":["istio-ingressgateway"],"id":19},{"start":{"row":27,"column":23},"end":{"row":27,"column":43},"action":"insert","lines":["istio-ingressgateway"]},{"start":{"row":27,"column":23},"end":{"row":27,"column":43},"action":"remove","lines":["istio-ingressgateway"]},{"start":{"row":27,"column":23},"end":{"row":27,"column":24},"action":"insert","lines":["f"]},{"start":{"row":27,"column":24},"end":{"row":27,"column":25},"action":"insert","lines":["i"]},{"start":{"row":27,"column":25},"end":{"row":27,"column":26},"action":"insert","lines":["t"]},{"start":{"row":27,"column":26},"end":{"row":27,"column":27},"action":"insert","lines":["n"]},{"start":{"row":27,"column":27},"end":{"row":27,"column":28},"action":"insert","lines":["e"]},{"start":{"row":27,"column":28},"end":{"row":27,"column":29},"action":"insert","lines":["s"]}],[{"start":{"row":27,"column":23},"end":{"row":27,"column":29},"action":"remove","lines":["fitnes"],"id":20},{"start":{"row":27,"column":23},"end":{"row":27,"column":30},"action":"insert","lines":["fitness"]}],[{"start":{"row":30,"column":0},"end":{"row":32,"column":20},"action":"remove","lines":["","  name: fitness","  namespace: fitness"],"id":21},{"start":{"row":29,"column":16},"end":{"row":30,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":14,"column":0},"end":{"row":16,"column":29},"action":"remove","lines":["  creationTimestamp: \"2021-09-26T07:42:04Z\"","  finalizers:","  - ingress.k8s.aws/resources"],"id":22},{"start":{"row":13,"column":36},"end":{"row":14,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":15},"action":"remove","lines":["  generation: 1"],"id":23},{"start":{"row":13,"column":36},"end":{"row":14,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":4,"column":168},"end":{"row":4,"column":194},"action":"remove","lines":["6h085hpvge24knrfnkpqrn7021"],"id":25},{"start":{"row":4,"column":168},"end":{"row":4,"column":194},"action":"insert","lines":["3gnvcakr6quq0j6pthc3p5jjuv"]}],[{"start":{"row":11,"column":3},"end":{"row":12,"column":1997},"action":"remove","lines":[" kubectl.kubernetes.io/last-applied-configuration: |","      {\"apiVersion\":\"extensions/v1beta1\",\"kind\":\"Ingress\",\"metadata\":{\"annotations\":{\"alb.ingress.kubernetes.io/auth-idp-cognito\":\"{\\\"UserPoolArn\\\":\\\"arn:aws:cognito-idp:ap-northeast-2:596906176357:userpool/ap-northeast-2_mCAntIjRq\\\",\\\"UserPoolClientId\\\":\\\"6h085hpvge24knrfnkpqrn7021\\\", \\\"UserPoolDomain\\\":\\\"kfusers.auth.ap-northeast-2.amazoncognito.com\\\"}\",\"alb.ingress.kubernetes.io/auth-type\":\"cognito\",\"alb.ingress.kubernetes.io/certificate-arn\":\"arn:aws:acm:ap-northeast-2:596906176357:certificate/8ec567fd-fd03-4a57-b837-fead72c6d100\",\"alb.ingress.kubernetes.io/listen-ports\":\"[{\\\"HTTPS\\\":443}]\",\"alb.ingress.kubernetes.io/scheme\":\"internet-facing\",\"alb.ingress.kubernetes.io/target-type\":\"ip\",\"kubernetes.io/ingress.class\":\"alb\"},\"creationTimestamp\":\"2021-09-26T07:25:57Z\",\"finalizers\":[\"ingress.k8s.aws/resources\"],\"generation\":1,\"labels\":{\"kustomize.component\":\"istio-ingress\"},\"managedFields\":[{\"apiVersion\":\"extensions/v1beta1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:alb.ingress.kubernetes.io/auth-idp-cognito\":{},\"f:alb.ingress.kubernetes.io/auth-type\":{},\"f:alb.ingress.kubernetes.io/certificate-arn\":{},\"f:alb.ingress.kubernetes.io/listen-ports\":{},\"f:alb.ingress.kubernetes.io/scheme\":{},\"f:alb.ingress.kubernetes.io/target-type\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{},\"f:kubernetes.io/ingress.class\":{}},\"f:finalizers\":{\".\":{},\"v:\\\"ingress.k8s.aws/resources\\\"\":{}},\"f:labels\":{\".\":{},\"f:kustomize.component\":{}}},\"f:spec\":{\"f:rules\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2021-09-26T07:25:57Z\"}],\"name\":\"istio-ingress\",\"namespace\":\"istio-system\",\"resourceVersion\":\"753107\",\"selfLink\":\"/apis/extensions/v1beta1/namespaces/istio-system/ingresses/istio-ingress\",\"uid\":\"6043b47a-a5b5-4174-93b8-13e90320d32a\"},\"spec\":{\"rules\":[{\"http\":{\"paths\":[{\"backend\":{\"serviceName\":\"istio-ingressgateway\",\"servicePort\":80},\"path\":\"/*\",\"pathType\":\"ImplementationSpecific\"}]}}]},\"status\":{\"loadBalancer\":{}}}"],"id":26}],[{"start":{"row":11,"column":2},"end":{"row":11,"column":3},"action":"remove","lines":[" "],"id":27},{"start":{"row":11,"column":0},"end":{"row":11,"column":2},"action":"remove","lines":["  "]},{"start":{"row":10,"column":45},"end":{"row":11,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":23,"column":15},"end":{"row":23,"column":16},"action":"remove","lines":["*"],"id":28}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":0},"end":{"row":13,"column":17},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1632929085061,"hash":"23562ac2d0abd26ec2e2fc615fd3f8500ad8ef6f"}